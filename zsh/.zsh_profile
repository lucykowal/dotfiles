# prompt settings
setopt PROMPT_SUBST
PROMPT="[%B%F{#ea76cb}%2~%f%b] => "
RPROMPT=""

# go config
export GOPATH=$HOME/go

# java config
export JAVA_HOME="$(/usr/libexec/java_home -v 21)"
export GRADLE_USER_HOME="$HOME/.gradle"

# unixy config
export VISUAL=nvim
export EDITOR=nvim

# brew config
export HOMEBREW_NO_ENV_HINTS=1

# general completion
autoload -U compinit; compinit

# conditional lazy loaded uv & uvx completion
uv() {
	# ... but lazy load uvx (it's a bit slow)
	unfunction uv
	which uv &> /dev/null && eval "$(uv generate-shell-completion zsh)"
	command uv "$@"
}
uvx() {
	# ... but lazy load uvx (it's a bit slow)
	unfunction uvx
	which uvx &> /dev/null && eval "$(uvx --generate-shell-completion zsh)"
	command uvx "$@"
}
